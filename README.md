# LTP3


Веб-приложение для автоматизации учета заявок на ремонт климатического оборудования с разграничением прав доступа и аналитикой.

## Запуск

### 1. Установка зависимостей

```bash
# Создание виртуального окружения (опционально)
python -m venv venv

# Активация виртуального окружения
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# Установка зависимостей
pip install -r requirements.txt
```

### 2. Настройка базы данных
Убедитесь, что файл базы данных находится в корневой папке

# Для создания таблиц, и загрузки данных нужно:
```bash
python load_data.py
```
repair_requests.db будет создан и данные импортированы

### 3. Запуск приложения

```bash
uvicorn main:app --reload     

streamlit run frontend.py   
```

### 4. Доступ к приложению

- **Frontend**: http://localhost:8000/docs
- **Backend API**: http://localhost:8000

## Тестовые пользователи

| Логин | Пароль | Роль |
|-------|--------|------|
| kasoo | root | Менеджер |
| murashov123 | qwerty | Мастер |
| perinaAD | 250519 | Оператор |
| login3 | pass3 | Заказчик |


## Технологии
### Бэкенд (Backend):
* Фреймворк: FastAPI (Python 3.9+)
* База данных: SQLite (файл repair_service.db)
* Аутентификация: JWT (JSON Web Tokens)
* ORM: SQLAlchemy (опционально)
* Валидация: Pydantic
* Запуск сервера: Uvicorn

### Фронтенд (Frontend):
* Фреймворк: Streamlit
* Визуализация: Plotly, Pandas
* Генерация QR-кодов: qrcode[pil]
* Стили: Встроенные компоненты Streamlit

### База данных (SQLite):
* Файл: repair_service.db

## Основные функции
1. Аутентификация и роли:
* Роли пользователей: Менеджер, Оператор, Специалист, Заказчик
* JWT токены с временем жизни
* Разграничение прав доступа по ролям

2. Управление заявками:
* Создание новых заявок
* Просмотр и фильтрация заявок
* Редактирование статусов и информации
* Назначение специалистов
* Удаление заявок (только менеджер)

3. QR-код для обратной связи:
* Генерация QR-кода на главной странице
* Ссылка на Google Forms опрос качества
* Доступно всем авторизованным пользователям


4. Статистика и аналитика:
* Общая статистика для менеджеров
* Личная статистика для специалистов
* Визуализация данных (графики, диаграммы)
* Среднее время выполнения заявок
* Распределение по типам проблем

5. Комментарии и общение:
* Комментарии к заявкам
* История обсуждений
* Доступ для специалистов и менеджеров

6. Пользовательский интерфейс:
* Адаптивный дизайн
* Интуитивная навигация
* Уведомления и сообщения об ошибках
* Поиск и фильтрация данных

## Помощь

При возникновении проблем проверьте:
1. Правильность строки подключения к БД
2. Установлены ли все зависимости

---
